{{- $src := .Get "src" -}}
{{- $caption := .Get "caption" -}}
{{- $link := .Get "link" -}}
{{- $alt := default $caption (.Get "alt") -}}
{{- $width := .Get "width" | default "700" -}}
{{- if strings.HasSuffix $width "%" -}}
{{- $width = "700" -}}
{{- end -}}
<div class="text-center image-container">
  {{ partial "img.html" (dict "page" .Page "src" $src "alt" $alt "width" $width "class" "img-fluid") }}
  <p class="figure-caption mt-2" style="font-size: 0.85rem;">
    {{- $caption -}}
    {{- with $link -}}
    {{- if $caption }} â€” {{ end -}}<a href="{{ . }}" target="_blank">Read more</a>
    {{- end -}}
  </p>
</div>